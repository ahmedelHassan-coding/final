<div class="container">
  <h2>Post a Job</h2>

  <!-- Success Message -->
  <div *ngIf="successMessage" class="alert success-box">
    <strong>Success:</strong> {{ successMessage }}
  </div>

  <form (ngSubmit)="onSubmit()" #jobForm="ngForm" class="job-form" novalidate>

    <!-- Job Title -->
    <div>
      <label for="title">Job Title *</label>
      <input type="text" id="title" name="title" required [(ngModel)]="title" #titleInput="ngModel">
      <div *ngIf="(titleInput.invalid && titleInput.touched) || (jobForm.submitted && titleInput.invalid)" class="error-text">
        Job Title is required.
      </div>
    </div>

    <!-- Location -->
    <div>
      <label for="location">Location *</label>
      <input type="text" id="location" name="location" required [(ngModel)]="location" #locationInput="ngModel">
      <div *ngIf="(locationInput.invalid && locationInput.touched) || (jobForm.submitted && locationInput.invalid)" class="error-text">
        Location is required.
      </div>
    </div>

    <!-- Job Type -->
    <div>
      <label for="type">Job Type *</label>
      <select id="type" name="type" required [(ngModel)]="type" #typeInput="ngModel">
        <option value="">-- Select --</option>
        <option value="Full Time">Full Time</option>
        <option value="Part Time">Part Time</option>
        <option value="Internship">Internship</option>
        <option value="Remote">Remote</option>
      </select>
      <div *ngIf="(typeInput.invalid && typeInput.touched) || (jobForm.submitted && typeInput.invalid)" class="error-text">
        Job Type is required.
      </div>
    </div>

    <!-- Description -->
    <div>
      <label for="description">Job Description *</label>
      <textarea id="description" name="description" required [(ngModel)]="description" #descInput="ngModel"></textarea>
      <div *ngIf="(descInput.invalid && descInput.touched) || (jobForm.submitted && descInput.invalid)" class="error-text">
        Description is required.
      </div>
    </div>

    <!-- Requirements -->
    <div>
      <label for="requirements">Requirements *</label>
      <textarea id="requirements" name="requirements" required [(ngModel)]="requirements" #reqInput="ngModel"></textarea>
      <div *ngIf="(reqInput.invalid && reqInput.touched) || (jobForm.submitted && reqInput.invalid)" class="error-text">
        Requirements are required.
      </div>
    </div>

    <!-- Responsibilities -->
    <div>
      <label for="responsibilities">Responsibilities *</label>
      <textarea id="responsibilities" name="responsibilities" required [(ngModel)]="responsibilities" #respInput="ngModel"></textarea>
      <div *ngIf="(respInput.invalid && respInput.touched) || (jobForm.submitted && respInput.invalid)" class="error-text">
        Responsibilities are required.
      </div>
    </div>

    <!-- Experience -->
    <div>
      <label for="experience">Experience *</label>
      <textarea id="experience" name="experience" required [(ngModel)]="experience" #expInput="ngModel"></textarea>
      <div *ngIf="(expInput.invalid && expInput.touched) || (jobForm.submitted && expInput.invalid)" class="error-text">
        Experience is required.
      </div>
    </div>

    <!-- Salary -->
    <div>
      <label for="min_salary"> Salary *</label>
      <input type="number" id="min_salary" name="min_salary" required min="0" [(ngModel)]="min_salary" #salaryInput="ngModel">
      <div *ngIf="(salaryInput.invalid && salaryInput.touched) || (jobForm.submitted && salaryInput.invalid)" class="error-text">
        Salary must be a positive number.
      </div>
    </div>

    <!-- Error messages from backend
    <div *ngIf="err.length > 0" class="alert error-box">
      <strong>Error(s):</strong>
      <ul>
        <li *ngFor="let e of err">{{ e }}</li>
      </ul>
    </div> -->

    <!-- Submit Button -->
    <button type="submit" class="submit-btn">Submit Job</button>
  </form>
</div>
